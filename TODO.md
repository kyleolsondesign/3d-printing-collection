- [x] For the background command, use a PORT option that is not 3000, so that I can run the backend in a different terminal window
- [x] When assessing the date added, use the model folder when available before using a model file itself.
- [x] Add an option to the model overlay to extract the contents of any ZIP files in a model folder. The files from the ZIP should be extracted to a new folder matching the zip filename without extension. Move the ZIP to the macOS trash after successful extraction, then automatically rescan that model folder and update it.
- [x] Update the scan progress indicator to show the overall process, right now it seems to just show the initial file count process. Also show what the current step is, for example what we log to console should also show in the UI status view.
- [x] Disallow additional scans to be triggered while a scan is taking place (on the UI side, not necessarily on the backend).
- [x] When listing the filepath for a model, exclude the global model directory and show the relative path from there.
- [x] When there are multiple images for a model, allow choosing the main thumbnail image in the details modal view.
- [x] Support "mark as printed" from the browse page
- [x] Support bulk add to queue, bulk soft delete, bulk category updates, and bulk 'mark as printed' operations on the browse page
- [x] Support bulk remove from queue on the queue and favorites pages
- [x] Support drag/drop in the queue to reorder
- [x] Remove the numbers in the global nav menu for Queue and Favorites
- [x] Move the search bar to the global nav bar. When searching, results should be in the context of the tab you are on (browse, favorites, queue, printed, loose models) and with the results in the same components each tab normally renders with
- [x] Add query params and support deep-linking for categories, search results, sorting, and card vs. list views
- [x] On the browse page, next to browse models title, show only the total number of models within the currently selected category or within the search results. Don't show the number that have loaded on however many pages have been requested

---

- [x] Not every folder with nested folders is a single model! The "paid" folder has many models under it, each organized by the model creator, for instance. If we're unsure about a model folder, keep it as "uncategorized" and let's merge the "loose models" and these into a tab that can be used to organize these models. Loose models we'd make a folder. Let's also identify some models where we cannot identify the correct parent folder and try to come up with a better algorithm
- [x] Not every folder with a direct model file in it is a model folder. Anything under a top-level category folder is not
- [x] When running a full rebuild, it wiped out my favorites
- [x] Allow adding images to "printed" records that represent "makes"
- [x] The PDFs can be treated as ZIP files to extract image assets. Some of them end up being garbage, but the first one with a name starting with "Page 1, object" is usually correct for the model. It is a TIFF though, and we should compress it down to a JPG.
- [x] Support "deleting" a thumbnail for a model, which would just be hiding it from our app but not deleting any files.
- [x] When model modal is open, the escape key should close it
- [x] Allow inline-edit of model name on the modal view
- [x] Marking something as printed should remove it from the queue
- [x] The modal interface and queue interface should be able to mark something as printed
- [x] There needs to be a way to mark a printed model as not good
- [x] The browse interface should have filters to hide printed and queued models, with the defaults hiding printed and showing queued
- [x] The Favorites, queue, printed, and loose/uncategorized pages all need to show the model images and clicking on them should launch the same modal view of the model
- [x] For loose models, the open folder button should not only open the containing folder, but select the file itself
- [x] Rename "Open in Finder" to "Show in Finder"
- [x] You should be able to click any file under a model in the modal view to show that file in finder
- [x] The "printed" view should be sorted by when the model was marked as printed, if we can tell when the finder tag was added or when we marked it printed in the UI. It should secondarily be sorted by date added of the model

---

- [x] Some of the models in the Paid folder are actually nested folders of a single parent model. For example `Shared 3D Models/Paid/OriginalToys3D/Original Toys 3D_D Rex/Files for printing and assembling (STL)/Color_D (red color)` and `Shared 3D Models/Paid/OriginalToys3D/Original Toys 3D_D Rex/Files for printing and assembling (STL)/Color_C (brown color)` are both nested folders under a single model. The structure for the `Shared 3D Models/Paid` should be: `Shared 3D Models/Paid/{designer}/{model folder}` and anything nested underneath should be part of that model. Some models might be directly under the designer folder and not nested.
- [x] When logging a model name, use the full path from the 3d model root folder
- [x] Reduce the polling time for the scan status updates in the frontend. Once every 10 seconds is enough
- [ ] When using 3mf file to find images, prefer the images under "Auxiliaries" if it exists. Extract multiple images if they are high scoring
- [x] When marking as printed from views that don't show a "good" and "bad" separately, make it a 3-state toggle, with the states in order of: not printed, good print, bad print
- [x] After a scan, display how long the scan took in total, and which type of scan was run
- [x] When in the modal view, use the right/left arrow keys to switch to the next or previous model in the current list on the underlying page. Add UI on hover of the right or left edge of the screen with the same behavior
- [x] Images don't load in the search results view
- [x] Clicking the "browse" button when in the search results view clears the query param in the URL but does not reset the results to the unfiltered browse page
- [x] The search field should clear when changing between tabs (e.g. "browse" vs. "favorites"), and should always be a way to filter the current view. For example, if you're on the favorites tab, it should search within the favorites. The placeholder text within it should reflect this behavior as well. It should only be a global search of models when on the browse tab.
- [x] On the "loose-files" view, clicking on the ".file-card" outside of a button within the file card should toggle the batch checkbox for that item
- [x] After organizing loose files, it should show a summary of every change made, within the "Organized N of N files" box. It should also give status updates as it is organizing in batch.
- [ ] All tabs except "loose files" should use the same card and table view, with the option to switch between. Clicking the name, date added, date created, and category table headers in the table view should update the sorting and query param. Clicking the active sort header should toggle the sort direction.
- [x] Search bar does not work on loose files tab. Should search amongst the loose files. Does not work on settings tab. For settings tab it should bring you to browse and then search within browse when you submit a search query
- [ ] When clicking on image preview in model view, allow full-size viewing of the images, taking over left/right keyboard navigation to look through the images. Escape should return to the modal view.
- [ ] Detect duplicate images for a single model and hide duplicates. These might have the same visual content but not the same size, filetype or compression. Always choose to keep the highest quality image.
- [x] Create a new ingestion view, which scans an ingestion folder that can be configured (default: `/Users/kyle/Downloads`) for models that are uncategorized. The ingestion tool should propose existing categories for the models into automatically. There should UI to accept the suggestions, which will also move the models into the appropriate category folder.
- [ ] Give me an overall progress indicator when batch importing
- [ ] Rescanning a model or extracting zip breaks the link from the page to launch the modal and breaks the deep-linking to the modal on refresh, because the ID changes. Can we either keep the original ID or update the view to reflect the new ID both in the links and the query params? After extracting a zip file from the modal view for a model, refresh the modal view. While extracting, give a progress indicator

---

- [ ] Designer browsing: A dedicated view or filter to browse models grouped by designer (extracted from PDF metadata). Show designer name, model count, and link to their profile URL if available. Add a full record for designers. Use the folder structure under "Shared 3D Models/Paid/{designer}" to infer the designer name for paid models and create those relationships for the models as well. Allow editing/adding attributes for the designer record within the designer page view
- [ ] Duplicate detection: Find potential duplicate models based on filename similarity (fuzzy matching) and/or file hashes. Show a dedicated review page where you can compare duplicates side-by-side and choose to merge or delete.
- [ ] Custom tags: Allow users to create and assign custom tags to models (beyond the auto-detected category). Tags should be searchable and filterable from the browse view. The database schema already supports this via the `tags` and `model_tags` tables.
- [ ] Statistics dashboard: A dedicated stats page showing collection insights — total storage used, models per category (bar chart), prints over time (line chart), good vs bad print ratio, most-printed categories, average files per model, etc.
- [ ] Recently viewed models: Track which models were opened in the details modal and show a "Recently Viewed" section or tab, ordered by last viewed timestamp. Useful for finding models you were just looking at.
- [ ] Lazy loading / virtual scrolling for images: Only load thumbnail images that are currently visible in the viewport. For large collections, loading all 50 card images at once causes unnecessary network traffic and slow initial render.
- [ ] Batch category reassignment: Allow selecting multiple models on the browse page and moving them to a different category. This would involve renaming the parent folder on disk and updating the database.
- [ ] Model notes: Add a free-text notes field to any model (not just printed ones). Useful for recording slicer settings, material recommendations, or assembly instructions. Editable from the details modal.
- [x] Saved searches / smart collections: Allow saving search queries + filter combinations as named collections (e.g., "Unpainted toys", "Large prints to try"). These would appear as quick-access buttons or a sidebar section.
- [x] Image gallery mode: A full-screen, image-focused browsing mode with larger thumbnails in a masonry or justified grid layout. Clicking opens the model details. Good for visual browsing when you know what something looks like but not its name.
- [x] Print time and filament tracking: The `printed_models` table already has `print_time_hours` and `filament_used_grams` columns. Add UI in the printed view and modal to record and display these, with totals in the stats dashboard.
- [ ] File system watcher: Use `fs.watch` or `chokidar` to monitor the model directory for changes and automatically trigger incremental scans when files are added, moved, or deleted. Eliminates the need for manual re-scans.
- [ ] Keyboard shortcuts for browse: Add hotkeys for common actions while browsing — `f` to toggle favorite, `q` to toggle queue, `p` to cycle printed, `s` to toggle selection mode, `/` to focus search bar. Show a keyboard shortcut help overlay with `?`.

---
